import{_ as a,o as n,c as s,b as t}from"./app-QjLVMi9E.js";const e={},d=t(`<h1 id="xpath-早見表" tabindex="-1"><a class="header-anchor" href="#xpath-早見表" aria-hidden="true">#</a> Xpath 早見表</h1><h2 id="セレクタ" tabindex="-1"><a class="header-anchor" href="#セレクタ" aria-hidden="true">#</a> セレクタ</h2><h3 id="子孫セレクタ" tabindex="-1"><a class="header-anchor" href="#子孫セレクタ" aria-hidden="true">#</a> 子孫セレクタ</h3><table><thead><tr><th>CSS</th><th>Xpath</th><th>?</th></tr></thead><tbody><tr><td><code>h1</code></td><td><code>//h1</code></td><td><a href="#%E5%89%8D%E7%BD%AE%E3%81%8D">?</a></td></tr><tr><td><code>div p</code></td><td><code>//div//p</code></td><td><a href="#%E8%BB%B8">?</a></td></tr><tr><td><code>ul &gt; li</code></td><td><code>//ul/li</code></td><td><a href="#%E8%BB%B8">?</a></td></tr><tr><td><code>ul &gt; li &gt; a</code></td><td><code>//ul/li/a</code></td><td></td></tr><tr><td><code>div &gt; *</code></td><td><code>//div/*</code></td><td></td></tr><tr><td><code>:root</code></td><td><code>/</code></td><td><a href="#%E5%89%8D%E7%BD%AE%E3%81%8D">?</a></td></tr><tr><td><code>:root &gt; body</code></td><td><code>/body</code></td><td></td></tr></tbody></table><h3 id="属性セレクタ" tabindex="-1"><a class="header-anchor" href="#属性セレクタ" aria-hidden="true">#</a> 属性セレクタ</h3><table><thead><tr><th>CSS</th><th>Xpath</th><th>?</th></tr></thead><tbody><tr><td><code>#id</code></td><td><code>//*[@id=&quot;id&quot;]</code></td><td><a href="#%E8%BF%B0%E8%AA%9E">?</a></td></tr><tr><td><code>.class</code></td><td><code>//*[@class=&quot;class&quot;]</code> <em>...<a href="#class-check">kinda</a></em></td><td></td></tr><tr><td><code>input[type=&quot;submit&quot;]</code></td><td><code>//input[@type=&quot;submit&quot;]</code></td><td></td></tr><tr><td><code>a#abc[for=&quot;xyz&quot;]</code></td><td><code>//a[@id=&quot;abc&quot;][@for=&quot;xyz&quot;]</code></td><td><a href="#%E9%80%A3%E7%B5%90%E9%A0%86%E5%BA%8F">?</a></td></tr><tr><td><code>a[rel]</code></td><td><code>//a[@rel]</code></td><td></td></tr><tr><td><code>a[href^=&#39;/&#39;]</code></td><td><code>//a[starts-with(@href, &#39;/&#39;)]</code></td><td><a href="#%E6%96%87%E5%AD%97%E5%88%97%E9%96%A2%E6%95%B0">?</a></td></tr><tr><td><code>a[href$=&#39;pdf&#39;]</code></td><td><code>//a[ends-with(@href, &#39;.pdf&#39;)]</code></td><td></td></tr><tr><td><code>a[href*=&#39;://&#39;]</code></td><td><code>//a[contains(@href, &#39;://&#39;)]</code></td><td></td></tr><tr><td><code>a[rel~=&#39;help&#39;]</code></td><td><code>//a[contains(@rel, &#39;help&#39;)]</code> <em>...<a href="#class-check">kinda</a></em></td><td></td></tr></tbody></table><h3 id="順序セレクタ" tabindex="-1"><a class="header-anchor" href="#順序セレクタ" aria-hidden="true">#</a> 順序セレクタ</h3><table><thead><tr><th>CSS</th><th>Xpath</th><th>?</th></tr></thead><tbody><tr><td><code>ul &gt; li:first-of-type</code></td><td><code>//ul/li[1]</code></td><td><a href="#%E3%82%A4%E3%83%B3%E3%83%87%E3%83%83%E3%82%AF%E3%82%B9">?</a></td></tr><tr><td><code>ul &gt; li:nth-of-type(2)</code></td><td><code>//ul/li[2]</code></td><td></td></tr><tr><td><code>ul &gt; li:last-of-type</code></td><td><code>//ul/li[last()]</code></td><td></td></tr><tr><td><code>li#id:first-of-type</code></td><td><code>//li[1][@id=&quot;id&quot;]</code></td><td><a href="#%E9%80%A3%E7%B5%90%E9%A0%86%E5%BA%8F">?</a></td></tr><tr><td><code>a:first-child</code></td><td><code>//*[1][name()=&quot;a&quot;]</code></td><td></td></tr><tr><td><code>a:last-child</code></td><td><code>//*[last()][name()=&quot;a&quot;]</code></td><td></td></tr></tbody></table><h3 id="兄弟要素" tabindex="-1"><a class="header-anchor" href="#兄弟要素" aria-hidden="true">#</a> 兄弟要素</h3><table><thead><tr><th>CSS</th><th>Xpath</th><th>?</th></tr></thead><tbody><tr><td><code>h1 ~ ul</code></td><td><code>//h1/following-sibling::ul</code></td><td><a href="#%E8%BB%B8%E3%81%AE%E4%BD%BF%E3%81%84%E6%96%B9">?</a></td></tr><tr><td><code>h1 + ul</code></td><td><code>//h1/following-sibling::ul[1]</code></td><td></td></tr><tr><td><code>h1 ~ #id</code></td><td><code>//h1/following-sibling::[@id=&quot;id&quot;]</code></td><td></td></tr></tbody></table><h3 id="jquery" tabindex="-1"><a class="header-anchor" href="#jquery" aria-hidden="true">#</a> jQuery</h3><table><thead><tr><th>CSS</th><th>Xpath</th><th>?</th></tr></thead><tbody><tr><td><code>$(&#39;ul &gt; li&#39;).parent()</code></td><td><code>//ul/li/..</code></td><td><a href="#%E3%81%9D%E3%81%AE%E4%BB%96%E3%81%AE%E8%BB%B8">?</a></td></tr><tr><td><code>$(&#39;li&#39;).closest(&#39;section&#39;)</code></td><td><code>//li/ancestor-or-self::section</code></td><td></td></tr><tr><td><code>$(&#39;a&#39;).attr(&#39;href&#39;)</code></td><td><code>//a/@href</code></td><td><a href="#%E3%82%B9%E3%83%86%E3%83%83%E3%83%97">?</a></td></tr><tr><td><code>$(&#39;span&#39;).text()</code></td><td><code>//span/text()</code></td><td></td></tr></tbody></table><h3 id="その他" tabindex="-1"><a class="header-anchor" href="#その他" aria-hidden="true">#</a> その他</h3><table><thead><tr><th>CSS</th><th>Xpath</th><th>?</th></tr></thead><tbody><tr><td><code>h1:not([id])</code></td><td><code>//h1[not(@id)]</code></td><td><a href="#%E3%83%96%E3%83%BC%E3%83%AB%E9%96%A2%E6%95%B0">?</a></td></tr><tr><td>テキスト一致</td><td><code>//button[text()=&quot;Submit&quot;]</code></td><td><a href="#%E6%BC%94%E7%AE%97%E5%AD%90">?</a></td></tr><tr><td>テキスト一致（部分）</td><td><code>//button[contains(text(),&quot;Go&quot;)]</code></td><td></td></tr><tr><td>数値比較</td><td><code>//product[@price &gt; 2.50]</code></td><td></td></tr><tr><td>子要素あり</td><td><code>//ul[*]</code></td><td></td></tr><tr><td>特定子要素あり</td><td><code>//ul[li]</code></td><td></td></tr><tr><td>OR ロジック</td><td><code>//a[@name or @href]</code></td><td><a href="#%E6%BC%94%E7%AE%97%E5%AD%90">?</a></td></tr><tr><td>和集合（結果結合）</td><td><code>//a | //div</code></td><td><a href="#%E5%92%8C%E9%9B%86%E5%90%88">?</a></td></tr></tbody></table><h3 id="class-check" tabindex="-1"><a class="header-anchor" href="#class-check" aria-hidden="true">#</a> Class check</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>//div<span class="token punctuation">[</span>contains<span class="token punctuation">(</span>concat<span class="token punctuation">(</span><span class="token string">&#39; &#39;</span>,normalize-space<span class="token punctuation">(</span>@class<span class="token punctuation">)</span>,<span class="token string">&#39; &#39;</span><span class="token punctuation">)</span>,<span class="token string">&#39; foobar &#39;</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Xpath には「空白区切りのクラス名に含まれるか」を直接判定する演算子がないため、上記の書き方を使います。</p><h2 id="式" tabindex="-1"><a class="header-anchor" href="#式" aria-hidden="true">#</a> 式</h2><h3 id="ステップと軸" tabindex="-1"><a class="header-anchor" href="#ステップと軸" aria-hidden="true">#</a> ステップと軸</h3><table><thead><tr><th><code>//</code></th><th><code>ul</code></th><th><code>/</code></th><th><code>a[@id=&#39;link&#39;]</code></th></tr></thead><tbody><tr><td>軸</td><td>ステップ</td><td>軸</td><td>ステップ</td></tr></tbody></table><h3 id="前置き" tabindex="-1"><a class="header-anchor" href="#前置き" aria-hidden="true">#</a> 前置き</h3><table><thead><tr><th>前置き</th><th>例</th><th>意味</th></tr></thead><tbody><tr><td><code>//</code></td><td><code>//hr[@class=&#39;edge&#39;]</code></td><td>任意位置</td></tr><tr><td><code>./</code></td><td><code>./a</code></td><td>相対</td></tr><tr><td><code>/</code></td><td><code>/html/body/div</code></td><td>ルート</td></tr></tbody></table><p>式はどの前置きから始めても構いません。</p><h3 id="軸" tabindex="-1"><a class="header-anchor" href="#軸" aria-hidden="true">#</a> 軸</h3><table><thead><tr><th>軸</th><th>例</th><th>意味</th></tr></thead><tbody><tr><td><code>/</code></td><td><code>//ul/li/a</code></td><td>子要素</td></tr><tr><td><code>//</code></td><td><code>//[@id=&quot;list&quot;]//a</code></td><td>子孫要素</td></tr></tbody></table><p>ステップは <code>/</code> で区切ります。直接の子だけを選びたくない場合は <code>//</code> を使います。</p><h3 id="ステップ" tabindex="-1"><a class="header-anchor" href="#ステップ" aria-hidden="true">#</a> ステップ</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>//div
//div<span class="token punctuation">[</span>@name<span class="token operator">=</span><span class="token string">&#39;box&#39;</span><span class="token punctuation">]</span>
//<span class="token punctuation">[</span>@id<span class="token operator">=</span><span class="token string">&#39;link&#39;</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ステップは要素名（<code>div</code>）と<a href="#%E8%BF%B0%E8%AA%9E">述語</a>（<code>[...]</code>）から成り、どちらも省略可能です。 以下のような形式も使えます：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>//a/text<span class="token punctuation">(</span><span class="token punctuation">)</span>     <span class="token comment">#=&gt; &quot;Go home&quot;</span>
//a/@href      <span class="token comment">#=&gt; &quot;index.html&quot;</span>
//a/*          <span class="token comment">#=&gt; All a&#39;s child elements</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="述語" tabindex="-1"><a class="header-anchor" href="#述語" aria-hidden="true">#</a> 述語</h2><h3 id="述語-1" tabindex="-1"><a class="header-anchor" href="#述語-1" aria-hidden="true">#</a> 述語</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>//div<span class="token punctuation">[</span>true<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
//div<span class="token punctuation">[</span>@class<span class="token operator">=</span><span class="token string">&quot;head&quot;</span><span class="token punctuation">]</span>
//div<span class="token punctuation">[</span>@class<span class="token operator">=</span><span class="token string">&quot;head&quot;</span><span class="token punctuation">]</span><span class="token punctuation">[</span>@id<span class="token operator">=</span><span class="token string">&quot;top&quot;</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>条件が真のときだけノードセットを残します。述語は連結できます。</p><h3 id="演算子" tabindex="-1"><a class="header-anchor" href="#演算子" aria-hidden="true">#</a> 演算子</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># Comparison</span>
//a<span class="token punctuation">[</span>@id <span class="token operator">=</span> <span class="token string">&quot;xyz&quot;</span><span class="token punctuation">]</span>
//a<span class="token punctuation">[</span>@id <span class="token operator">!=</span> <span class="token string">&quot;xyz&quot;</span><span class="token punctuation">]</span>
//a<span class="token punctuation">[</span>@price <span class="token operator">&gt;</span> <span class="token number">25</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># Logic (and/or)</span>
//div<span class="token punctuation">[</span>@id<span class="token operator">=</span><span class="token string">&quot;head&quot;</span> and position<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">]</span>
//div<span class="token punctuation">[</span><span class="token punctuation">(</span>x and y<span class="token punctuation">)</span> or not<span class="token punctuation">(</span>z<span class="token punctuation">)</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>比較・論理演算子で条件を作ります。</p><h3 id="ノードの利用" tabindex="-1"><a class="header-anchor" href="#ノードの利用" aria-hidden="true">#</a> ノードの利用</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># Use them inside functions</span>
//ul<span class="token punctuation">[</span>count<span class="token punctuation">(</span>li<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">2</span><span class="token punctuation">]</span>
//ul<span class="token punctuation">[</span>count<span class="token punctuation">(</span>li<span class="token punctuation">[</span>@class<span class="token operator">=</span><span class="token string">&#39;hide&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># This returns \`&lt;ul&gt;\` that has a \`&lt;li&gt;\` child</span>
//ul<span class="token punctuation">[</span>li<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>ノードは述語内で直接使えます。</p><h3 id="インデックス" tabindex="-1"><a class="header-anchor" href="#インデックス" aria-hidden="true">#</a> インデックス</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>//a<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>                  <span class="token comment"># first &lt;a&gt;</span>
//a<span class="token punctuation">[</span>last<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span>             <span class="token comment"># last &lt;a&gt;</span>
//ol/li<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>              <span class="token comment"># second &lt;li&gt;</span>
//ol/li<span class="token punctuation">[</span>position<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">]</span>   <span class="token comment"># same as above</span>
//ol/li<span class="token punctuation">[</span>position<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&gt;</span><span class="token number">1</span><span class="token punctuation">]</span>   <span class="token comment"># :not(:first-of-type)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>[]</code> 内で数値、<code>last()</code>、<code>position()</code> を使って指定します。</p><h3 id="連結順序" tabindex="-1"><a class="header-anchor" href="#連結順序" aria-hidden="true">#</a> 連結順序</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>a<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>@href<span class="token operator">=</span><span class="token string">&#39;/&#39;</span><span class="token punctuation">]</span>
a<span class="token punctuation">[</span>@href<span class="token operator">=</span><span class="token string">&#39;/&#39;</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>順序によって結果が変わります。</p><h3 id="入れ子述語" tabindex="-1"><a class="header-anchor" href="#入れ子述語" aria-hidden="true">#</a> 入れ子述語</h3><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>//section[.//h1[@id=&#39;hi&#39;]]
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><code>&lt;section&gt;</code> が id=&#39;hi&#39; の <code>&lt;h1&gt;</code> を子孫に持つ場合に一致します。</p><h2 id="関数" tabindex="-1"><a class="header-anchor" href="#関数" aria-hidden="true">#</a> 関数</h2><h3 id="ノード関数" tabindex="-1"><a class="header-anchor" href="#ノード関数" aria-hidden="true">#</a> ノード関数</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>name<span class="token punctuation">(</span><span class="token punctuation">)</span>                     <span class="token comment"># //[starts-with(name(), &#39;h&#39;)]</span>
text<span class="token punctuation">(</span><span class="token punctuation">)</span>                     <span class="token comment"># //button[text()=&quot;Submit&quot;]</span>
                           <span class="token comment"># //button/text()</span>
lang<span class="token punctuation">(</span>str<span class="token punctuation">)</span>
namespace-uri<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>count<span class="token punctuation">(</span><span class="token punctuation">)</span>                    <span class="token comment"># //table[count(tr)=1]</span>
position<span class="token punctuation">(</span><span class="token punctuation">)</span>                 <span class="token comment"># //ol/li[position()=2]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ブール関数" tabindex="-1"><a class="header-anchor" href="#ブール関数" aria-hidden="true">#</a> ブール関数</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>not<span class="token punctuation">(</span>expr<span class="token punctuation">)</span>                  <span class="token comment"># button[not(starts-with(text(),&quot;Submit&quot;))]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="文字列関数" tabindex="-1"><a class="header-anchor" href="#文字列関数" aria-hidden="true">#</a> 文字列関数</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>contains<span class="token punctuation">(</span><span class="token punctuation">)</span>                 <span class="token comment"># font[contains(@class,&quot;head&quot;)]</span>
starts-with<span class="token punctuation">(</span><span class="token punctuation">)</span>              <span class="token comment"># font[starts-with(@class,&quot;head&quot;)]</span>
ends-with<span class="token punctuation">(</span><span class="token punctuation">)</span>                <span class="token comment"># font[ends-with(@class,&quot;head&quot;)]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>concat<span class="token punctuation">(</span>x,y<span class="token punctuation">)</span>
substring<span class="token punctuation">(</span>str, start, len<span class="token punctuation">)</span>
substring-before<span class="token punctuation">(</span><span class="token string">&quot;01/02&quot;</span>, <span class="token string">&quot;/&quot;</span><span class="token punctuation">)</span>  <span class="token comment">#=&gt; 01</span>
substring-after<span class="token punctuation">(</span><span class="token string">&quot;01/02&quot;</span>, <span class="token string">&quot;/&quot;</span><span class="token punctuation">)</span>   <span class="token comment">#=&gt; 02</span>
translate<span class="token punctuation">(</span><span class="token punctuation">)</span>
normalize-space<span class="token punctuation">(</span><span class="token punctuation">)</span>
string-length<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="型変換" tabindex="-1"><a class="header-anchor" href="#型変換" aria-hidden="true">#</a> 型変換</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>string<span class="token punctuation">(</span><span class="token punctuation">)</span>
number<span class="token punctuation">(</span><span class="token punctuation">)</span>
boolean<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="軸-1" tabindex="-1"><a class="header-anchor" href="#軸-1" aria-hidden="true">#</a> 軸</h2><h3 id="軸の使い方" tabindex="-1"><a class="header-anchor" href="#軸の使い方" aria-hidden="true">#</a> 軸の使い方</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>//ul/li                       <span class="token comment"># ul &gt; li</span>
//ul/child::li                <span class="token comment"># ul &gt; li (same)</span>
//ul/following-sibling::li    <span class="token comment"># ul ~ li</span>
//ul/descendant-or-self::li   <span class="token comment"># ul li</span>
//ul/ancestor-or-self::li     <span class="token comment"># $(&#39;ul&#39;).closest(&#39;li&#39;)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ステップは通常 <code>/</code> で子要素を選びますが、<code>::</code> で別の軸を指定できます。</p><table><thead><tr><th><code>//</code></th><th><code>ul</code></th><th><code>/child::</code></th><th><code>li</code></th></tr></thead><tbody><tr><td>軸</td><td>ステップ</td><td>軸</td><td>ステップ</td></tr></tbody></table><h3 id="子軸" tabindex="-1"><a class="header-anchor" href="#子軸" aria-hidden="true">#</a> 子軸</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># both the same</span>
//ul/li/a
//child::ul/child::li/child::a
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>child::</code> がデフォルト軸です。これにより <code>//a/b/c</code> が動作します。</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># both the same</span>
<span class="token comment"># this works because \`child::li\` is truthy, so the predicate succeeds</span>
//ul<span class="token punctuation">[</span>li<span class="token punctuation">]</span>
//ul<span class="token punctuation">[</span>child::li<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># both the same</span>
//ul<span class="token punctuation">[</span>count<span class="token punctuation">(</span>li<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">2</span><span class="token punctuation">]</span>
//ul<span class="token punctuation">[</span>count<span class="token punctuation">(</span>child::li<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">2</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="子孫または自身の軸" tabindex="-1"><a class="header-anchor" href="#子孫または自身の軸" aria-hidden="true">#</a> 子孫または自身の軸</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># both the same</span>
//div//h4
//div/descendant-or-self::h4
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>//</code> は <code>descendant-or-self::</code> 軸の省略形です。</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># both the same</span>
//ul//<span class="token punctuation">[</span>last<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
//ul/descendant-or-self::<span class="token punctuation">[</span>last<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="その他の軸" tabindex="-1"><a class="header-anchor" href="#その他の軸" aria-hidden="true">#</a> その他の軸</h3><table><thead><tr><th>軸</th><th>略記</th><th>備考</th></tr></thead><tbody><tr><td><code>ancestor</code></td><td></td><td></td></tr><tr><td><code>ancestor-or-self</code></td><td></td><td></td></tr><tr><td><code>attribute</code></td><td><code>@</code></td><td><code>@href</code> は <code>attribute::href</code> の省略形</td></tr><tr><td><code>child</code></td><td></td><td><code>div</code> は <code>child::div</code> の省略形</td></tr><tr><td><code>descendant</code></td><td></td><td></td></tr><tr><td><code>descendant-or-self</code></td><td><code>//</code></td><td><code>//</code> は <code>/descendant-or-self::node()/</code> の省略形</td></tr><tr><td><code>namespace</code></td><td></td><td></td></tr><tr><td><code>self</code></td><td><code>.</code></td><td><code>.</code> は <code>self::node()</code> の省略形</td></tr><tr><td><code>parent</code></td><td><code>..</code></td><td><code>..</code> は <code>parent::node()</code> の省略形</td></tr><tr><td><code>following</code></td><td></td><td></td></tr><tr><td><code>following-sibling</code></td><td></td><td></td></tr><tr><td><code>preceding</code></td><td></td><td></td></tr><tr><td><code>preceding-sibling</code></td><td></td><td></td></tr></tbody></table><p>他にも軸があります。</p><h3 id="和集合" tabindex="-1"><a class="header-anchor" href="#和集合" aria-hidden="true">#</a> 和集合</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>//a <span class="token operator">|</span> //span
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><code>|</code> で 2 つの式結果を結合します。</p><h2 id="さらに例" tabindex="-1"><a class="header-anchor" href="#さらに例" aria-hidden="true">#</a> さらに例</h2><h3 id="例" tabindex="-1"><a class="header-anchor" href="#例" aria-hidden="true">#</a> 例</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>//*                 <span class="token comment"># all elements</span>
count<span class="token punctuation">(</span>//*<span class="token punctuation">)</span>          <span class="token comment"># count all elements</span>
<span class="token punctuation">(</span>//h1<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>/text<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment"># text of the first h1 heading</span>
//li<span class="token punctuation">[</span>span<span class="token punctuation">]</span>          <span class="token comment"># find a &lt;li&gt; with an &lt;span&gt; inside it</span>
                    <span class="token comment"># ...expands to //li[child::span]</span>
//ul/li/<span class="token punctuation">..</span>          <span class="token comment"># use .. to select a parent</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="親要素を探す" tabindex="-1"><a class="header-anchor" href="#親要素を探す" aria-hidden="true">#</a> 親要素を探す</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>//section<span class="token punctuation">[</span>h1<span class="token punctuation">[</span>@id<span class="token operator">=</span><span class="token string">&#39;section-name&#39;</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><code>h1#section-name</code> を直接含む <code>&lt;section&gt;</code> を探します。</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>//section<span class="token punctuation">[</span>//h1<span class="token punctuation">[</span>@id<span class="token operator">=</span><span class="token string">&#39;section-name&#39;</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><code>h1#section-name</code> を含む <code>&lt;section&gt;</code> を探します。 （上と同じ結果ですが、child ではなく descendant-or-self を使います）</p><h3 id="最も近い祖先" tabindex="-1"><a class="header-anchor" href="#最も近い祖先" aria-hidden="true">#</a> 最も近い祖先</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>./ancestor-or-self::<span class="token punctuation">[</span>@class<span class="token operator">=</span><span class="token string">&quot;box&quot;</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>jQuery の <code>$().closest(&#39;.box&#39;)</code> と同等です。</p><h3 id="属性" tabindex="-1"><a class="header-anchor" href="#属性" aria-hidden="true">#</a> 属性</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>//item<span class="token punctuation">[</span>@price <span class="token operator">&gt;</span> <span class="token number">2</span>*@discount<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><code>&lt;item&gt;</code> を探し、その属性をチェックします。</p><h2 id="テスト" tabindex="-1"><a class="header-anchor" href="#テスト" aria-hidden="true">#</a> テスト</h2><h3 id="ブラウザのコンソール" tabindex="-1"><a class="header-anchor" href="#ブラウザのコンソール" aria-hidden="true">#</a> ブラウザのコンソール</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token function">$x</span><span class="token punctuation">(</span><span class="token string">&quot;//div&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,99),c=[d];function o(i,l){return n(),s("div",null,c)}const r=a(e,[["render",o],["__file","xpath.html.vue"]]);export{r as default};
